<!DOCTYPE html>
<html>
<head>
    <title>1인칭 camera practice</title>
    <script type="text/javascript" src="../libs/three.js"></script>
    <script type="text/javascript" src="../libs/OrbitControls.js"></script>
    <script type="text/javascript" src="../libs/dat.gui.js"></script>
    <script type="text/javascript" src="1.JS"></script>
    <script src="../assets/textures/general/asphalt.jpg"></script>
    <style> 
        body {
            /* set margin to 0 and overflow to hidden, to go fullscreen */
            margin: 0;
            overflow: hidden;
        }
    </style>

</head>
<body>

    <!-- Div which will hold the Output -->
    <div id="WebGL-output">
    </div>

    <script type="text/javascript">
        var dataX;
        var dataZ;
        var regex = /[^0-9]/g;	
        var orbit; 
        var rcCar;
        var rotationSpeed = 0;
        var Container;
        var velocityX =10;
        var velocityZ =10;
        var centerVertices;

        setInterval(download,300);



        function leftTurn (){
                    rotationSpeed = 0.06545;
                    setTimeout(function(){
                        rotationSpeed = 0;
                        Container.rotation.y = Math.PI * 0.5;
                    },380); //1480에서 더 세밀하게 조율 들어가면 좋겠당..
        };

        function leftTurn2 (){
                    rotationSpeed = 0.06545;
                    setTimeout(function(){
                        rotationSpeed = 0;
                        Container.rotation.y = Math.PI; 
                    },380); //1480에서 더 세밀하게 조율 들어가면 좋겠당..
        };

        function leftTurn3 (){
                    rotationSpeed = 0.06545;
                    setTimeout(function(){
                        rotationSpeed = 0;
                        Container.rotation.y = Math.PI * 1.5;
                    },380); //1480에서 더 세밀하게 조율 들어가면 좋겠당..
        };

        function leftTurn4 (){
                    rotationSpeed = 0.06545;
                    setTimeout(function(){
                        rotationSpeed = 0;
                        Container.rotation.y = 0;
                    },380); //1480에서 더 세밀하게 조율 들어가면 좋겠당..
        };

        function rightTurn (){
            rotationSpeed = -0.06545;
            Container.rotation.y =Container.rotation.y + rotationSpeed;
            setTimeout(function(){
                rotationSpeed = 0;
                Container.rotation.y = Math.PI * 0.5;
            },380);
        };

        function rightTurn2 (){
            rotationSpeed = -0.06545;
            Container.rotation.y =Container.rotation.y + rotationSpeed;
            setTimeout(function(){
                rotationSpeed = 0;
                Container.rotation.y = Math.PI;
            },380);
        };

        function rightTurn3 (){
            rotationSpeed = -0.06545;
            Container.rotation.y =Container.rotation.y + rotationSpeed;
            setTimeout(function(){
                rotationSpeed = 0;
                Container.rotation.y = Math.PI * 1.5;
            },380);
        };
        function rightTurn4 (){
            rotationSpeed = -0.06545;
            Container.rotation.y =Container.rotation.y + rotationSpeed;
            setTimeout(function(){
                rotationSpeed = 0;
                Container.rotation.y = 0;
            },380);
        };

        function turnAround(){
            rotationSpeed = 0.06545;
            Container.rotation.y =Container.rotation.y + rotationSpeed;
            setTimeout(function(){
                rotationSpeed = 0;
                Container.rotation.y = 0;
            },760);            
        }

        function turnAround2(){
            rotationSpeed = 0.06545;
            Container.rotation.y =Container.rotation.y + rotationSpeed;
            setTimeout(function(){
                rotationSpeed = 0;
                Container.rotation.y = Math.PI * 0.5;
            },760);            
        }
        function turnAround3(){
            rotationSpeed = 0.06545;
            Container.rotation.y =Container.rotation.y + rotationSpeed;
            setTimeout(function(){
                rotationSpeed = 0;
                Container.rotation.y = Math.PI;
            },760);            
        }
        function turnAround4(){
            rotationSpeed = 0.06545;
            Container.rotation.y =Container.rotation.y + rotationSpeed;
            setTimeout(function(){
                rotationSpeed = 0;
                Container.rotation.y = Math.PI * 1.5;
            },760);            
        }

        function createMesh(geom, imageFile) {
            var texture = THREE.ImageUtils.loadTexture("../assets/textures/general/" + imageFile);
            var mat = new THREE.MeshPhongMaterial();
            mat.map = texture;

            var mesh = new THREE.Mesh(geom, mat);
            return mesh;
        }

        function init() {

            // 기본적인 scene 넣구
            var scene = new THREE.Scene();

            // renederer 넣고
            var renderer = new THREE.WebGLRenderer();
            renderer.setClearColor(new THREE.Color(0x000, 1.0));
            renderer.setSize(window.innerWidth, window.innerHeight);

            // ground 깔고
            // var planeGeometry = new THREE.PlaneGeometry(7324, 6264);
            // var planeMaterial = new THREE.MeshLambertMaterial({color: 0x000000});
            // var plane = new THREE.Mesh(planeGeometry, planeMaterial);
            // var plane = createMesh(new THREE.PlaneGeometry(7324,6264),"asphalt.jpg");
            // rotate and position the plane
            // plane.rotation.x = -0.5 * Math.PI;
            // plane.position.x = 3472;
            // plane.position.y = 0;
            // plane.position.z = 3102;
            // add the plane to the scene
            var plane = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane.rotation.x = -0.5 * Math.PI;
            plane.position.x = 0;
            plane.position.y = 0;
            plane.position.z = 160;
            scene.add(plane);

            var plane2 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane2.rotation.x = -0.5 * Math.PI;
            plane2.position.x = 0;
            plane2.position.y = 0;
            plane2.position.z = 540;
            scene.add(plane2);

            var plane3 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane3.rotation.x = -0.5 * Math.PI;
            plane3.position.x = 0;
            plane3.position.y = 0;
            plane3.position.z = 920;
            scene.add(plane3);

            var plane4 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane4.rotation.x = -0.5 * Math.PI;
            plane4.position.x = 0;
            plane4.position.y = 0;
            plane4.position.z = 1300;
            scene.add(plane4);

            var plane5 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane5.rotation.x = -0.5 * Math.PI;
            plane5.position.x = 0;
            plane5.position.y = 0;
            plane5.position.z = 1680;
            scene.add(plane5);

            var plane6 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane6.rotation.x = -0.5 * Math.PI;
            plane6.position.x = 0;
            plane6.position.y = 0;
            plane6.position.z = 2060;
            scene.add(plane6);

            var plane7 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane7.rotation.x = -0.5 * Math.PI;
            plane7.position.x = 0;
            plane7.position.y = 0;
            plane7.position.z = 2440;
            scene.add(plane7);

            var plane8 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane8.rotation.x = -0.5 * Math.PI;
            plane8.position.x = 0;
            plane8.position.y = 0;
            plane8.position.z = 2820;
            scene.add(plane8);

            var plane9 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane9.rotation.x = -0.5 * Math.PI;
            plane9.position.x = 0;
            plane9.position.y = 0;
            plane9.position.z = 3200;
            scene.add(plane9);

            var plane10 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane10.rotation.x = -0.5 * Math.PI;
            plane10.position.x = 0;
            plane10.position.y = 0;
            plane10.position.z = 3580;
            scene.add(plane10);

            var plane11 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane11.rotation.x = -0.5 * Math.PI;
            plane11.position.x = 0;
            plane11.position.y = 0;
            plane11.position.z = 3960;
            scene.add(plane11);

            var plane12 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane12.rotation.x = -0.5 * Math.PI;
            plane12.position.x = 0;
            plane12.position.y = 0;
            plane12.position.z = 4340;
            scene.add(plane12);

            var plane13 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane13.rotation.x = -0.5 * Math.PI;
            plane13.position.x = 0;
            plane13.position.y = 0;
            plane13.position.z = 4720;
            scene.add(plane13);

            var plane14 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane14.rotation.x = -0.5 * Math.PI;
            plane14.position.x = 0;
            plane14.position.y = 0;
            plane14.position.z = 5100;
            scene.add(plane14);

            var plane15 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane15.rotation.x = -0.5 * Math.PI;
            plane15.position.x = 0;
            plane15.position.y = 0;
            plane15.position.z = 5480;
            scene.add(plane15);

            var plane16 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            plane16.rotation.x = -0.5 * Math.PI;
            plane16.position.x = 0;
            plane16.position.y = 0;
            plane16.position.z = 5760;
            scene.add(plane16);

            var plane17 = createMesh(new THREE.PlaneGeometry(380,384),"darkasphalt.jpg")
            plane17.rotation.x = -0.5 * Math.PI;
            plane17.position.x = 0;
            plane17.position.y = 0;
            plane17.position.z = 6141;
            scene.add(plane17);

            //1번도로
            var planeOne = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne.rotation.x = -0.5 * Math.PI;
            planeOne.position.x = 380;
            planeOne.position.y = 0;
            planeOne.position.z = 1810;
            scene.add(planeOne);

            var planeOne2 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne2.rotation.x = -0.5 * Math.PI;
            planeOne2.position.x = 760;
            planeOne2.position.y = 0;
            planeOne2.position.z = 1810;
            scene.add(planeOne2);

            var planeOne3 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne3.rotation.x = -0.5 * Math.PI;
            planeOne3.position.x = 1140;
            planeOne3.position.y = 0;
            planeOne3.position.z = 1810;
            scene.add(planeOne3);

            var planeOne4 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne4.rotation.x = -0.5 * Math.PI;
            planeOne4.position.x = 1520;
            planeOne4.position.y = 0;
            planeOne4.position.z = 1810;
            scene.add(planeOne4);

            var planeOne5 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne5.rotation.x = -0.5 * Math.PI;
            planeOne5.position.x = 1900;
            planeOne5.position.y = 0;
            planeOne5.position.z = 1810;
            scene.add(planeOne5);

            var planeOne6 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne6.rotation.x = -0.5 * Math.PI;
            planeOne6.position.x = 2280;
            planeOne6.position.y = 0;
            planeOne6.position.z = 1810;
            scene.add(planeOne6);

            var planeOne7 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne7.rotation.x = -0.5 * Math.PI;
            planeOne7.position.x = 2660;
            planeOne7.position.y = 0;
            planeOne7.position.z = 1810;
            scene.add(planeOne7);

            var planeOne8 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne8.rotation.x = -0.5 * Math.PI;
            planeOne8.position.x = 3040;
            planeOne8.position.y = 0;
            planeOne8.position.z = 1810;
            scene.add(planeOne8);

            var planeOne9 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne9.rotation.x = -0.5 * Math.PI;
            planeOne9.position.x = 3420;
            planeOne9.position.y = 0;
            planeOne9.position.z = 1810;
            scene.add(planeOne9);

            var planeOne10 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne10.rotation.x = -0.5 * Math.PI;
            planeOne10.position.x = 3600;
            planeOne10.position.y = 0;
            planeOne10.position.z = 1810;
            scene.add(planeOne10);

            var planeOne11 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne11.rotation.x = -0.5 * Math.PI;
            planeOne11.position.x = 3980;
            planeOne11.position.y = 0;
            planeOne11.position.z = 1810;
            scene.add(planeOne11);

            var planeOne12 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne12.rotation.x = -0.5 * Math.PI;
            planeOne12.position.x = 4360;
            planeOne12.position.y = 0;
            planeOne12.position.z = 1810;
            scene.add(planeOne12);

            var planeOne13 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne13.rotation.x = -0.5 * Math.PI;
            planeOne13.position.x = 4740;
            planeOne13.position.y = 0;
            planeOne13.position.z = 1810;
            scene.add(planeOne13);

            var planeOne14 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne14.rotation.x = -0.5 * Math.PI;
            planeOne14.position.x = 5120;
            planeOne14.position.y = 0;
            planeOne14.position.z = 1810;
            scene.add(planeOne14);

            var planeOne15 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne15.rotation.x = -0.5 * Math.PI;
            planeOne15.position.x = 5500;
            planeOne15.position.y = 0;
            planeOne15.position.z = 1810;
            scene.add(planeOne15);

            var planeOne16 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne16.rotation.x = -0.5 * Math.PI;
            planeOne16.position.x = 5880;
            planeOne16.position.y = 0;
            planeOne16.position.z = 1810;
            scene.add(planeOne16);

            var planeOne17 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeOne17.rotation.x = -0.5 * Math.PI;
            planeOne17.position.x = 6260;
            planeOne17.position.y = 0;
            planeOne17.position.z = 1810;
            scene.add(planeOne17);

            var planeOne18 = createMesh(new THREE.PlaneGeometry(304,380),"darkasphalt.jpg")
            planeOne18.rotation.x = -0.5 * Math.PI;
            planeOne18.position.x = 6602;
            planeOne18.position.y = 0;
            planeOne18.position.z = 1810;
            scene.add(planeOne18);

            //2번도로
            var planeTwo = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo.rotation.x = -0.5 * Math.PI;
            planeTwo.position.x = 380;
            planeTwo.position.y = 0;
            planeTwo.position.z = 4394;
            scene.add(planeTwo);

            var planeTwo2 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo2.rotation.x = -0.5 * Math.PI;
            planeTwo2.position.x = 760;
            planeTwo2.position.y = 0;
            planeTwo2.position.z = 4394;
            scene.add(planeTwo2);

            var planeTwo3 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo3.rotation.x = -0.5 * Math.PI;
            planeTwo3.position.x = 1140;
            planeTwo3.position.y = 0;
            planeTwo3.position.z = 4394;
            scene.add(planeTwo3);

            var planeTwo4 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo4.rotation.x = -0.5 * Math.PI;
            planeTwo4.position.x = 1520;
            planeTwo4.position.y = 0;
            planeTwo4.position.z = 4394;
            scene.add(planeTwo4);

            var planeTwo5 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo5.rotation.x = -0.5 * Math.PI;
            planeTwo5.position.x = 1900;
            planeTwo5.position.y = 0;
            planeTwo5.position.z = 4394;
            scene.add(planeTwo5);

            var planeTwo6 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo6.rotation.x = -0.5 * Math.PI;
            planeTwo6.position.x = 2280;
            planeTwo6.position.y = 0;
            planeTwo6.position.z = 4394;
            scene.add(planeTwo6);

            var planeTwo7 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo7.rotation.x = -0.5 * Math.PI;
            planeTwo7.position.x = 2660;
            planeTwo7.position.y = 0;
            planeTwo7.position.z = 4394;
            scene.add(planeTwo7);

            var planeTwo8 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo8.rotation.x = -0.5 * Math.PI;
            planeTwo8.position.x = 3040;
            planeTwo8.position.y = 0;
            planeTwo8.position.z = 4394;
            scene.add(planeTwo8);

            var planeTwo9 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo9.rotation.x = -0.5 * Math.PI;
            planeTwo9.position.x = 3420;
            planeTwo9.position.y = 0;
            planeTwo9.position.z = 4394;
            scene.add(planeTwo9);

            var planeTwo10 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo10.rotation.x = -0.5 * Math.PI;
            planeTwo10.position.x = 3600;
            planeTwo10.position.y = 0;
            planeTwo10.position.z = 4394;
            scene.add(planeTwo10);

            var planeTwo11 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo11.rotation.x = -0.5 * Math.PI;
            planeTwo11.position.x = 3980;
            planeTwo11.position.y = 0;
            planeTwo11.position.z = 4394;
            scene.add(planeTwo11);

            var planeTwo12 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo12.rotation.x = -0.5 * Math.PI;
            planeTwo12.position.x = 4360;
            planeTwo12.position.y = 0;
            planeTwo12.position.z = 4394;
            scene.add(planeTwo12);

            var planeTwo13 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo13.rotation.x = -0.5 * Math.PI;
            planeTwo13.position.x = 4740;
            planeTwo13.position.y = 0;
            planeTwo13.position.z = 4394;
            scene.add(planeTwo13);

            var planeTwo14 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo14.rotation.x = -0.5 * Math.PI;
            planeTwo14.position.x = 5120;
            planeTwo14.position.y = 0;
            planeTwo14.position.z = 4394;
            scene.add(planeTwo14);

            var planeTwo15 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo15.rotation.x = -0.5 * Math.PI;
            planeTwo15.position.x = 5500;
            planeTwo15.position.y = 0;
            planeTwo15.position.z = 4394;
            scene.add(planeTwo15);

            var planeTwo16 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo16.rotation.x = -0.5 * Math.PI;
            planeTwo16.position.x = 5880;
            planeTwo16.position.y = 0;
            planeTwo16.position.z = 4394;
            scene.add(planeTwo16);

            var planeTwo17 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeTwo17.rotation.x = -0.5 * Math.PI;
            planeTwo17.position.x = 6260;
            planeTwo17.position.y = 0;
            planeTwo17.position.z = 4394;
            scene.add(planeTwo17);

            var planeTwo18 = createMesh(new THREE.PlaneGeometry(304,380),"darkasphalt.jpg")
            planeTwo18.rotation.x = -0.5 * Math.PI;
            planeTwo18.position.x = 6602;
            planeTwo18.position.y = 0;
            planeTwo18.position.z = 4394;
            scene.add(planeTwo18);

            //3번도로
            var planeThree = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree.rotation.x = -0.5 * Math.PI;
            planeThree.position.x = 6944;
            planeThree.position.y = 0;
            planeThree.position.z = 160;
            scene.add(planeThree);

            var planeThree2 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree2.rotation.x = -0.5 * Math.PI;
            planeThree2.position.x = 6944;
            planeThree2.position.y = 0;
            planeThree2.position.z = 540;
            scene.add(planeThree2);

            var planeThree3 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree3.rotation.x = -0.5 * Math.PI;
            planeThree3.position.x = 6944;
            planeThree3.position.y = 0;
            planeThree3.position.z = 920;
            scene.add(planeThree3);

            var planeThree4 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree4.rotation.x = -0.5 * Math.PI;
            planeThree4.position.x = 6944;
            planeThree4.position.y = 0;
            planeThree4.position.z = 1300;
            scene.add(planeThree4);

            var planeThree5 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree5.rotation.x = -0.5 * Math.PI;
            planeThree5.position.x = 6944;
            planeThree5.position.y = 0;
            planeThree5.position.z = 1680;
            scene.add(planeThree5);

            var planeThree6 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree6.rotation.x = -0.5 * Math.PI;
            planeThree6.position.x = 6944;
            planeThree6.position.y = 0;
            planeThree6.position.z = 2060;
            scene.add(planeThree6);

            var planeThree7 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree7.rotation.x = -0.5 * Math.PI;
            planeThree7.position.x = 6944;
            planeThree7.position.y = 0;
            planeThree7.position.z = 2440;
            scene.add(planeThree7);

            var planeThree8 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree8.rotation.x = -0.5 * Math.PI;
            planeThree8.position.x = 6944;
            planeThree8.position.y = 0;
            planeThree8.position.z = 2820;
            scene.add(planeThree8);

            var planeThree9 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree9.rotation.x = -0.5 * Math.PI;
            planeThree9.position.x = 6944;
            planeThree9.position.y = 0;
            planeThree9.position.z = 3200;
            scene.add(planeThree9);

            var planeThree10 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree10.rotation.x = -0.5 * Math.PI;
            planeThree10.position.x = 6944;
            planeThree10.position.y = 0;
            planeThree10.position.z = 3580;
            scene.add(planeThree10);

            var planeThree11 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree11.rotation.x = -0.5 * Math.PI;
            planeThree11.position.x = 6944;
            planeThree11.position.y = 0;
            planeThree11.position.z = 3960;
            scene.add(planeThree11);

            var planeThree12 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree12.rotation.x = -0.5 * Math.PI;
            planeThree12.position.x = 6944;
            planeThree12.position.y = 0;
            planeThree12.position.z = 4340;
            scene.add(planeThree12);

            var planeThree13 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree13.rotation.x = -0.5 * Math.PI;
            planeThree13.position.x = 6944;
            planeThree13.position.y = 0;
            planeThree13.position.z = 4720;
            scene.add(planeThree13);

            var planeThree14 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree14.rotation.x = -0.5 * Math.PI;
            planeThree14.position.x = 6944;
            planeThree14.position.y = 0;
            planeThree14.position.z = 5100;
            scene.add(planeThree14);

            var planeThree15 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree15.rotation.x = -0.5 * Math.PI;
            planeThree15.position.x = 6944;
            planeThree15.position.y = 0;
            planeThree15.position.z = 5480;
            scene.add(planeThree15);

            var planeThree16 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeThree16.rotation.x = -0.5 * Math.PI;
            planeThree16.position.x = 6944;
            planeThree16.position.y = 0;
            planeThree16.position.z = 5760;
            scene.add(planeThree16);

            var planeThree17 = createMesh(new THREE.PlaneGeometry(380,384),"darkasphalt.jpg")
            planeThree17.rotation.x = -0.5 * Math.PI;
            planeThree17.position.x = 6944;
            planeThree17.position.y = 0;
            planeThree17.position.z = 6141;
            scene.add(planeThree17);


            //4번 국도
            var planeFour = createMesh(new THREE.PlaneGeometry(381,380),"darkasphalt.jpg")
            planeFour.rotation.x = -0.5 * Math.PI;
            planeFour.position.x = 3666.5;
            planeFour.position.y = 0;
            planeFour.position.z = 2190.5;
            scene.add(planeFour);

            var planeFour2 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour2.rotation.x = -0.5 * Math.PI;
            planeFour2.position.x = 4047.5;
            planeFour2.position.y = 0;
            planeFour2.position.z = 2190.5;
            scene.add(planeFour2);

            var planeFour3 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour3.rotation.x = -0.5 * Math.PI;
            planeFour3.position.x = 6944;
            planeFour3.position.y = 0;
            planeFour3.position.z = 920;
            scene.add(planeFour3);

            var planeFour4 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour4.rotation.x = -0.5 * Math.PI;
            planeFour4.position.x = 6944;
            planeFour4.position.y = 0;
            planeFour4.position.z = 1300;
            scene.add(planeFour4);

            var planeFour5 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour5.rotation.x = -0.5 * Math.PI;
            planeFour5.position.x = 6944;
            planeFour5.position.y = 0;
            planeFour5.position.z = 1680;
            scene.add(planeFour5);

            var planeFour6 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour6.rotation.x = -0.5 * Math.PI;
            planeFour6.position.x = 6944;
            planeFour6.position.y = 0;
            planeFour6.position.z = 2060;
            scene.add(planeFour6);

            var planeFour7 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour7.rotation.x = -0.5 * Math.PI;
            planeFour7.position.x = 6944;
            planeFour7.position.y = 0;
            planeFour7.position.z = 2440;
            scene.add(planeFour7);

            var planeFour8 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour8.rotation.x = -0.5 * Math.PI;
            planeFour8.position.x = 6944;
            planeFour8.position.y = 0;
            planeFour8.position.z = 2820;
            scene.add(planeFour8);

            var planeFour9 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour9.rotation.x = -0.5 * Math.PI;
            planeFour9.position.x = 6944;
            planeFour9.position.y = 0;
            planeFour9.position.z = 3200;
            scene.add(planeFour9);

            var planeFour10 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour10.rotation.x = -0.5 * Math.PI;
            planeFour10.position.x = 6944;
            planeFour10.position.y = 0;
            planeFour10.position.z = 3580;
            scene.add(planeFour10);

            var planeFour11 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour11.rotation.x = -0.5 * Math.PI;
            planeFour11.position.x = 6944;
            planeFour11.position.y = 0;
            planeFour11.position.z = 3960;
            scene.add(planeFour11);

            var planeFour12 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour12.rotation.x = -0.5 * Math.PI;
            planeFour12.position.x = 6944;
            planeFour12.position.y = 0;
            planeFour12.position.z = 4340;
            scene.add(planeFour12);

            var planeFour13 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour13.rotation.x = -0.5 * Math.PI;
            planeFour13.position.x = 6944;
            planeFour13.position.y = 0;
            planeFour13.position.z = 4720;
            scene.add(planeFour13);

            var planeFour14 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour14.rotation.x = -0.5 * Math.PI;
            planeFour14.position.x = 6944;
            planeFour14.position.y = 0;
            planeFour14.position.z = 5100;
            scene.add(planeFour14);

            var planeFour15 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour15.rotation.x = -0.5 * Math.PI;
            planeFour15.position.x = 6944;
            planeFour15.position.y = 0;
            planeFour15.position.z = 5480;
            scene.add(planeFour15);

            var planeFour16 = createMesh(new THREE.PlaneGeometry(380,380),"darkasphalt.jpg")
            planeFour16.rotation.x = -0.5 * Math.PI;
            planeFour16.position.x = 6944;
            planeFour16.position.y = 0;
            planeFour16.position.z = 5860;
            scene.add(planeFour16);

            var planeFour17 = createMesh(new THREE.PlaneGeometry(380,184),"darkasphalt.jpg")
            planeFour17.rotation.x = -0.5 * Math.PI;
            planeFour17.position.x = 6944;
            planeFour17.position.y = 0;
            planeFour17.position.z = 6142;
            scene.add(planeFour17);

            // 이 기준 축은 추후 삭제 예정
            var axes = new THREE.AxisHelper(1000);
            scene.add(axes);
        
            // 1인칭 카메라 위치 잡아주고
            var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 100000);
            camera.position.set(-30,60,-250);


            // 원점 기준 북쪽 벽 만들구
            var northWallGeometry = new THREE.BoxGeometry(8324,1000,500)
            var northWallMaterial = new THREE.MeshLambertMaterial({color:0x9B1003});
            var northWall = new THREE.Mesh(northWallGeometry,northWallMaterial);
            northWall.rotation.x = -0.5 * Math.PI;
            northWall.position.x = 3472;
            northWall.position.z = 6734;
            northWall.position.y = 250;
            scene.add(northWall)

            // 원점 기준 남쪽 벽 만들고
            var southWallGeometry = new THREE.BoxGeometry(8324,1000,500)
            var southWallMaterial = new THREE.MeshLambertMaterial({color:0x040273});
            var southWall = new THREE.Mesh(southWallGeometry,southWallMaterial);
            southWall.rotation.x = -0.5 * Math.PI;
            southWall.position.x = 3472;
            southWall.position.z = -530;
            southWall.position.y = 250;
            scene.add(southWall)

            // 원점 기준 서쪽 벽 만들고
            var westWallGeometry = new THREE.BoxGeometry(500,6264,500)
            var westWallMaterial = new THREE.MeshLambertMaterial({color:0x9c9723});
            var westWall = new THREE.Mesh(westWallGeometry,westWallMaterial);
            westWall.rotation.x = -0.5 * Math.PI;
            westWall.position.z = 3102;
            westWall.position.y = 250;
            westWall.position.x = 7384;
            scene.add(westWall)

            // 원점 기준 동쪽 벽 만들고
            var eastWallGeometry = new THREE.BoxGeometry(500,6264,500)
            var eastWallMaterial = new THREE.MeshLambertMaterial({color:0x235347});
            var eastWall = new THREE.Mesh(eastWallGeometry,eastWallMaterial);
            eastWall.rotation.x = -0.5 * Math.PI;
            eastWall.position.z = 3102;
            eastWall.position.y = 250;
            eastWall.position.x = -440;
            scene.add(eastWall)

            // 랩실 1 2 만들것
            var LAB1Geometry = new THREE.BoxGeometry(6564,1650,500)
            var LAB1Material = new THREE.MeshBasicMaterial({color:0xffffff});
            LAB1Material.transparent = true;
            LAB1Material.opacity = 0.8;
            var LAB1 = new THREE.Mesh(LAB1Geometry,LAB1Material);
            LAB1.rotation.x = -0.5 * Math.PI;
            LAB1.position.z = 795;
            LAB1.position.y = 250;
            LAB1.position.x = 3472;
            scene.add(LAB1)
            var LAB2 = new THREE.Mesh(LAB1Geometry,LAB1Material);
            LAB2.rotation.x = -0.5 * Math.PI;
            LAB2.position.x = 3472;
            LAB2.position.y = 250;
            LAB2.position.z = 5409;
            scene.add(LAB2)

            //엘베 1 2 만들 것             
            var Elevator1Geometry = new THREE.BoxGeometry(3286,2204,500)
            var Elevator1 = new THREE.Mesh( Elevator1Geometry,LAB1Material);
            Elevator1.rotation.x = -0.5 * Math.PI;
            Elevator1.position.x = 1833;
            Elevator1.position.z = 3102;
            Elevator1.position.y = 250;
            scene.add(Elevator1)
            var Elevator2Geometry = new THREE.BoxGeometry(2516,2204,500)            
            var Elevator2 = new THREE.Mesh( Elevator2Geometry,LAB1Material);
            Elevator2.rotation.x = -0.5 * Math.PI;
            Elevator2.position.x = 5496;
            Elevator2.position.y = 250;
            Elevator2.position.z = 3102;
            scene.add(Elevator2)


            // 탑뷰로 내리 쬐어주는 직선광 하나 깔아주고
            var directionalLight = new THREE.DirectionalLight(0xffffff, 1.4);
            directionalLight.position.set(3600, 4000, 3900);
            scene.add(directionalLight);

            // 주변광 하나 깔아주고
            var ambientLight = new THREE.AmbientLight(0x383838);
            scene.add(ambientLight);

            // 3D rc Car 모델과 camera를 담기 위한 컨테이너 하나 만들고
            Container = new THREE.Object3D();
            rcCar = Car();
            rcCar.rotation.x = -0.5 * Math.PI;
            rcCar.rotation.z = -0.5 * Math.PI;
            Container.add(rcCar);
            Container.add(camera);
            scene.add(Container);

            // 오르빗 시스템 돌리고
            orbit = new THREE.OrbitControls(camera, renderer.domElement);

            // add the output of the renderer to the html element
            document.getElementById("WebGL-output").appendChild(renderer.domElement);

            render();

            function render() {
                orbit.update();
                if(dataX > Container.position.x){
                    Container.position.x += velocityX;
                    if(Container.rotation.y ==0)leftTurn();
                    if(Container.rotation.y == Math.PI)rightTurn();
                    if(Container.rotation.y == Math.PI*1.5)turnAround2();
                }
                else if(dataX < Container.position.x){
                    Container.position.x -= velocityX;
                    if(Container.rotation.y == Math.PI)leftTurn3();
                    if(Container.rotation.y == 0)rightTurn3();
                    if(Container.rotation.y == Math.PI*0.5)turnAround4();
                }
                if(dataZ > Container.position.z){
                    Container.position.z += velocityZ;
                    if(Container.rotation.y == Math.PI*1.5)leftTurn4();
                    if(Container.rotation.y == Math.PI*0.5)rightTurn4();
                    if(Container.rotation.y == Math.PI)turnAround();
                }
                else if(dataZ < Container.position.z){
                    Container.position.z -= velocityZ;
                    if(Container.rotation.y == Math.PI*0.5)leftTurn2();
                    if(Container.rotation.y == Math.PI*1.5)rightTurn2();
                    if(Container.rotation.y == 0)turnAround3();
                }
                if(rotationSpeed){
                    Container.rotation.y += rotationSpeed;
                }
                if (camera instanceof THREE.Camera) {
                    camera.lookAt(new THREE.Vector3(centerVertices.position.x, 0, centerVertices.position.z));
                }

                requestAnimationFrame(render);
                renderer.render(scene, camera);
                }

                // 자동차 조립
                function Car () {
                    var Car = new THREE.Group();

                    var backWheel = new THREE.Mesh( 
                        new THREE.BoxGeometry(12,33,12), new THREE.MeshLambertMaterial({color:0x333333}))
                    backWheel.position.z = 6;
                    backWheel.position.x = -18;
                    Car.add(backWheel);

                    var frontWheel = new THREE.Mesh(
                        new THREE.BoxGeometry(12,33,12), new THREE.MeshLambertMaterial({color:0x333333}))
                    frontWheel.position.z = 6;
                    frontWheel.position.x = 18;
                    Car.add(frontWheel);

                    var mainbody = new THREE.Mesh(
                        new THREE.BoxGeometry(60,40,15),
                        new THREE.MeshLambertMaterial({color:0xa52523})
                    )
                    mainbody.position.z = 12;
                    Car.add(mainbody)

            
                    var cabinMaterial = [
                    new THREE.MeshLambertMaterial({ color: 0xffffff }),
                    new THREE.MeshLambertMaterial({ color: 0xffffff }),
                    new THREE.MeshLambertMaterial({ color: 0xffffff }),
                    new THREE.MeshLambertMaterial({ color: 0xffffff }),
                    new THREE.MeshLambertMaterial({ color: 0xffffff }), // top
                    new THREE.MeshLambertMaterial({ color: 0xffffff }) // bottom
                    ];

                    var cabin = new THREE.SceneUtils.createMultiMaterialObject(
                        new THREE.BoxGeometry(33, 24, 12),cabinMaterial 
                    );
                    cabin.position.x = -6;
                    cabin.position.z = 25.5;
                    Car.add(cabin);

                    // 카메라를 위한 점 하나 잡고
                    var centerVerticesMaterial = new THREE.SpriteMaterial({color:0xff0000});
                    centerVertices = new THREE.Sprite(centerVerticesMaterial);
                    centerVertices.position.set(0,100,0);
                    Car.add(centerVertices);
                    return Car;    
            }
        }
    
    window.onload = init
</script>
</body>
</html>
